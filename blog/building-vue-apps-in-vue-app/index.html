<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><style type="text/css">*{box-sizing:border-box}html{font-size:16px}body{font-family:sans-serif;font-size:1rem;line-height:1.5rem}nav{margin:1rem 5%}body,nav ul{margin:0;padding:0}nav li{display:inline;margin:0 1rem}nav li:first-child{margin-left:0}@media screen and (min-width:670px){nav{margin-left:1rem}}main{width:90%;max-width:720px;margin:3rem auto}em,h1,h1 span,h2,h2 span,h3,h3 span,h4,h4 span,li code,p code,strong{background:linear-gradient(90deg,#9e009e 0%,#ff007f 49%,#d98400 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}h1,h2,h3,h4{font-family:sans-serif}h1{margin:2rem 0 1.5rem;font-size:2.5rem;line-height:3rem;font-weight:300;display:table}h2{margin:2rem 0 1rem;font-size:2rem;line-height:2.5rem;font-weight:400}h3,h4{font-weight:500}h3{font-size:1.5rem;line-height:2rem;margin:1rem 0 .5rem}blockquote,h4,iframe,ol,p,ul{font-size:1rem;line-height:1.5rem}h4{margin:.5rem 0}blockquote,hgroup,iframe,ol,p,ul{margin:1rem 0}hgroup h1,hgroup h2,hgroup h3,hgroup h4{margin:0}blockquote code,iframe code,ol code,p code,sup.footnote-ref,ul code{line-height:.5rem}ol,ul{padding:0 0 0 1.5rem}footer img{height:24px}section{padding:1rem 0}hr{margin:2rem 0}sup.footnote-ref{font-size:1rem}blockquote{border-left:6px rgba(1,1,1,.05) solid;background-color:rgba(1,1,1,.05);padding:.5rem .5rem .5rem 1rem}dt{margin-top:1rem}dd{margin-bottom:1rem;margin-left:1rem}</style><title>Adam Buczek | Building Vue apps in Vue app</title><meta name="description" content=""></head><body><nav><ul><li><a href="/">Adam Buczek</a></li>|<li><a href="/blog">Blog</a></li></ul></nav><main role="main"><span><strong>DRAFT</strong></span><h1>Building Vue apps in Vue app</h1><h3>User Interface</h3><p>App where components can be put together into a Page and filled with data.</p><h4>Importing components asynchronously</h4><p>With component libraries prepared in the way described above there are two ways of registering and using components in UI.</p><ul><li>installing with NPM</li><li>importing via HTTP</li></ul><p>Independently from chosen way we may now load the exported <code>manifest.json</code> file and get the component metadata list. This can be used to render a list of available components and create UI elements allowing users to add components at runtime.</p><p>Component source files can be imported <a href="https://vuejs.org/v2/guide/components-dynamic-async.html#Async-Components">asynchronously</a> and cached. This way multiple large libraries may be used without over-bloating built app.</p><p>Imported components' styles need to be separated from the rest of the app. They need to be editable and reorderable. To achieve this requirements we import components asynchronously and mount them into new instances of Vue that are mounted inside ShadowDOM root. CSS styles are injected next to new app root.</p><h4>Editing Data</h4><p>Editing data uses additional widgets to inject props into added components. This works with a directive added to the component at development time.</p><h4>Exporting data</h4><p>Once the Page is complete it can be represented in a JSON form and saved or exported.</p><pre class="language-json"><code class="language-json"><span class="highlight-line"><span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"example-page"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token property">"components"</span><span class="token operator">:</span> <span class="token punctuation">[</span></span><br><span class="highlight-line">    <span class="token punctuation">{</span></span><br><span class="highlight-line">      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"description-component"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">        <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"Lorem ipsum dolor sit, amet, consectetur, adipisci elit"</span></span><br><span class="highlight-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line">      <span class="token property">"order"</span><span class="token operator">:</span> <span class="token number">0</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line">  <span class="token punctuation">]</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre></main><footer><ul><li><a href="https://www.linkedin.com/in/adamsbuczek/"><img src="/assets/linkedin.svg" alt="LinkedIn"></a></li><li><a href="https://github.com/adambuczek"><img src="/assets/github.svg" alt="Github"></a></li><li><a href="https://codepen.io/adambuczek"><img src="/assets/codepen.svg" alt="Codepen"></a></li></ul></footer><link href="/styles/global.css" rel="stylesheet" type="text/css"><link href="/styles/print.css" media="print" rel="stylesheet" type="text/css"></body></html>